function updatePictures(t){var e=randomNum(20),a="2763192-f60ef475d94e3c3bae5956be1",r="https://pixabay.com/api/?key="+a+"&q="+encodeURIComponent(t)+"&order=popular&image_type=photo&per_page=7&page="+e+"&callback=?";$.getJSON(r,function(t){if(parseInt(t.totalHits)>0){var e=$("#template").html(),a=_.template(e),r=a(t);$(".gallery__pictures").empty().append(r),$(".grid").masonry({itemSelector:".item"})}else showModal("No results or no connection")})}function searchPartners(){var t=randomNum(30),e=$(".partners__wrapper");e.slideUp(100);var a="http://api.randomuser.me/?page="+t+"&results=4";$.getJSON(a,function(t){if(t.results.length>0){var a=$("#template2").html(),r=_.template(a),o=r(t);e.empty().append(o),e.slideDown(800)}else showModal("No results or no connection"),e.slideDown(800)})}function randomNum(t){return Math.round(Math.random()*t||10)}function showModal(t){$(".modal__new h3").html(t),$(".lock").show(400),setTimeout(function(){$(".lock").hide(400)},1e3)}$(function(){function t(t,e){var a=$(t).offset().top;$("body,html").animate({scrollTop:a},e||400)}updatePictures(""),jQuery(".fancyimage").fancybox(),$(".jcarousel").jcarousel({wrap:"both",animation:{duration:300,easing:"linear",complete:function(){}}}),$(".sliders__arrow--left").jcarouselControl({target:"-=1"}),$(".sliders__arrow--right").jcarouselControl({target:"+=1"}),$(".jcarousel--1").jcarouselAutoscroll({interval:2500,target:"+=1",autostart:!0}),$(".jcarousel--2").jcarouselAutoscroll({interval:4500,target:"+=1",autostart:!0}),$(".jcarousel--3").jcarouselAutoscroll({interval:6300,target:"+=1",autostart:!0}),$(".wrapper--header").on("click","a",function(e){e.preventDefault();var a=$(this).attr("href");t(a,900)}),$("#gallery__form").submit(function(e){e.preventDefault();var a=$.trim($("#gallery__input").val());if($("#gallery__input").val(""),a){var r=$(this).attr("data-href");t(r),updatePictures(a)}else showModal("invalid request")}),$(".partners__seeOther").on("click",function(){var e=$(this).attr("data-href");t(e),searchPartners()})});